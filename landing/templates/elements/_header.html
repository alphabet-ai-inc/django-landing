{% load mptt_tags element_tags %}
{% if element.props.level %}
    <h{{ element.props.level }} class="{{ element.css_classes }}" style="{% if element.props.background_image %}background-image: url({{ element.props.background_image }});{% endif %}">
        {{ element.content|safe }}
    </h{{ element.props.level }}>
{% else %}
    <header class="{{ element.css_classes }}" style="{% if element.props.background_image %}background-image: url({{ element.props.background_image }});{% endif %}">
        {% if element.children.exists %}
            <div class="children-container">
                {% recursetree element.children.all %}
                    {% with element=node template_path=node|get_partial_template %}
                        {% include template_path %}
                    {% endwith %}
                    {% if not node.is_leaf_node %}
                        {{ children }}
                    {% endif %}
                {% endrecursetree %}
            </div>
        {% endif %}
    </header>
{% endif %}